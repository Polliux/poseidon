[gd_scene load_steps=6 format=3 uid="uid://3rag8ryq14yy"]

[ext_resource type="Script" path="res://src/scripts/game_control.gd" id="1_veebc"]
[ext_resource type="PackedScene" uid="uid://blk68hjn5uffs" path="res://src/scenes/card_pile.tscn" id="2_mehgf"]
[ext_resource type="PackedScene" uid="uid://dohoiuo4sw78b" path="res://src/scenes/card.tscn" id="3_wnvir"]
[ext_resource type="PackedScene" uid="uid://ccy1qjacl7xc2" path="res://src/scenes/hand.tscn" id="4_j8uts"]
[ext_resource type="PackedScene" uid="uid://dx88wq188m0vq" path="res://src/scenes/research_rotation.tscn" id="5_wmnwf"]

[node name="Game Control" type="Node2D" node_paths=PackedStringArray("map_vp", "science_shop", "drawpile_node", "discardpile_node")]
script = ExtResource("1_veebc")
map_vp = NodePath("SubViewportContainer/Map Subviewport")
science_shop = NodePath("Cards Rotation")
drawpile_node = NodePath("Draw Pile")
discardpile_node = NodePath("Discard Pile")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
z_index = -100
offset_right = 643.0
offset_bottom = 512.0

[node name="Map Subviewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
render_target_update_mode = 4

[node name="Draw Pile" parent="." node_paths=PackedStringArray("hand_node", "reshuffle_from") instance=ExtResource("2_mehgf")]
z_index = 1
offset_left = 12.0
offset_top = 416.0
offset_right = 87.0
offset_bottom = 526.0
hand_node = NodePath("../Hand")
card_frame = ExtResource("3_wnvir")
reshuffle_from = NodePath("../Discard Pile")
ui_position_v = 1
ui_position_h = 0

[node name="Discard Pile" parent="." node_paths=PackedStringArray("hand_node") instance=ExtResource("2_mehgf")]
z_index = 1
offset_left = 871.0
offset_top = 422.0
offset_right = 946.0
offset_bottom = 532.0
hand_node = NodePath("../Hand")
card_frame = ExtResource("3_wnvir")
ui_position_v = 1
ui_position_h = 1

[node name="Toggle Science Shop" type="Button" parent="."]
offset_left = 39.0
offset_top = 75.0
offset_right = 133.0
offset_bottom = 106.0
text = "Laboratory"

[node name="debug_cards_to_drawpile" type="Button" parent="."]
offset_left = 142.0
offset_top = 73.0
offset_right = 353.0
offset_bottom = 104.0
text = "DEBUG ADD TO DRAWPILE"

[node name="debug_draw_cards" type="Button" parent="."]
offset_left = 142.0
offset_top = 116.0
offset_right = 318.0
offset_bottom = 147.0
text = "DEBUG DRAW CARD"

[node name="debug_regenerate" type="Button" parent="."]
offset_left = 141.0
offset_top = 158.0
offset_right = 317.0
offset_bottom = 189.0
text = "DEBUG REGENERATE"

[node name="Hand" parent="." instance=ExtResource("4_j8uts")]

[node name="Cards Rotation" parent="." instance=ExtResource("5_wmnwf")]
offset_left = -780.0
offset_top = 260.0
offset_right = -220.0
offset_bottom = 500.0
size_flags_horizontal = 1
size_flags_vertical = 1

[connection signal="pressed" from="Toggle Science Shop" to="." method="_on_toggle_science_shop_pressed"]
[connection signal="pressed" from="debug_cards_to_drawpile" to="." method="_on_debug_cards_to_drawpile_pressed"]
[connection signal="pressed" from="debug_draw_cards" to="." method="_on_debug_draw_cards_pressed"]
[connection signal="pressed" from="debug_regenerate" to="." method="_on_debug_regenerate_pressed"]
